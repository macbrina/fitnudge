import React from "react";
import Svg, { Circle, Path, G, Rect } from "react-native-svg";
import { useTheme } from "@/themes";

// Mood types matching the check-in system
export type MoodType = "terrible" | "bad" | "okay" | "good" | "great";

interface MoodIconProps {
  mood: MoodType;
  size?: number;
  color?: string;
  selected?: boolean;
}

// Simple mood face icons using SVG paths
// These are basic representations - replace with custom flaticon SVGs as needed

const MoodTerribleIcon = ({
  size = 32,
  color,
}: {
  size: number;
  color: string;
}) => (
  <Svg width={size} height={size} viewBox="0 0 295.996 295.996">
    <G>
      <Path
        fill="#FFCE00"
        d="M270.996,123.998c0-11.334-1.363-22.348-3.907-32.9c-7.269-15.152-17.35-28.708-29.558-39.996
            c-22.391-13.376-48.766-20.666-76.771-19.644C83.492,34.274,23.139,99.196,25.955,176.463c0.413,11.304,2.17,22.239,5.087,32.673
            c6.303,12.01,14.397,22.938,23.934,32.42c21.892,14.189,47.99,22.44,76.023,22.44C208.316,263.996,270.996,201.316,270.996,123.998
            z M197.666,98.998c8.836,0,16,7.164,16,16s-7.164,16-16,16s-16-7.164-16-16S188.83,98.998,197.666,98.998z M98.666,98.998
            c8.836,0,16,7.164,16,16s-7.164,16-16,16s-16-7.164-16-16S89.83,98.998,98.666,98.998z M87.959,215.396l-12.633-9.82
            c21.441-27.579,57.392-40.777,91.587-33.631c21.262,4.447,40.353,16.391,53.756,33.631l-12.631,9.82
            c-11.078-14.249-26.847-24.118-44.4-27.789C135.382,181.697,105.675,192.607,87.959,215.396z"
      />
      <Path
        fill="#FFB100"
        d="M267.089,91.098c2.544,10.553,3.907,21.566,3.907,32.9c0,77.318-62.68,139.998-139.998,139.998
            c-28.032,0-54.131-8.251-76.023-22.44c23.88,23.744,56.766,38.44,93.023,38.44c72.784,0,131.998-59.214,131.998-131.998
            C279.996,127.636,275.358,108.337,267.089,91.098z"
      />
      <Path
        fill="#FFE454"
        d="M160.76,31.457c28.006-1.021,54.381,6.268,76.771,19.644C213.985,29.328,182.521,16,147.998,16
            C75.214,16,16,75.214,16,147.998c0,22.049,5.442,42.849,15.042,61.138c-2.917-10.434-4.674-21.369-5.087-32.673
            C23.139,99.196,83.492,34.274,160.76,31.457z"
      />
      <Path
        d="M147.998,0C66.392,0,0,66.392,0,147.998s66.392,147.998,147.998,147.998s147.998-66.392,147.998-147.998
            S229.604,0,147.998,0z M147.998,279.996c-36.257,0-69.143-14.696-93.023-38.44c-9.536-9.482-17.631-20.41-23.934-32.42
            C21.442,190.847,16,170.047,16,147.998C16,75.214,75.214,16,147.998,16c34.523,0,65.987,13.328,89.533,35.102
            c12.208,11.288,22.289,24.844,29.558,39.996c8.27,17.239,12.907,36.538,12.907,56.9
            C279.996,220.782,220.782,279.996,147.998,279.996z"
      />
      <Path
        d="M163.638,187.607c17.554,3.671,33.322,13.54,44.4,27.789l12.631-9.82c-13.402-17.24-32.494-29.184-53.756-33.631
            c-34.195-7.146-70.146,6.052-91.587,33.631l12.633,9.82C105.675,192.607,135.382,181.697,163.638,187.607z"
      />
      <Circle cx="98.666" cy="114.998" r="16" />
      <Circle cx="197.666" cy="114.998" r="16" />
    </G>
  </Svg>
);

const MoodBadIcon = ({ size = 32, color }: { size: number; color: string }) => (
  <Svg width={size} height={size} viewBox="0 0 295.996 295.996">
    <G>
      <Path
        fill="#FFCE00"
        d="M270.996,123.998c0-11.334-1.363-22.348-3.907-32.9c-7.269-15.152-17.35-28.708-29.558-39.996
       c-22.391-13.376-48.766-20.666-76.771-19.645C83.492,34.273,23.139,99.196,25.955,176.463c0.412,11.304,2.17,22.239,5.087,32.673
       c6.303,12.01,14.397,22.938,23.934,32.42c21.892,14.189,47.99,22.44,76.022,22.44C208.316,263.996,270.996,201.316,270.996,123.998
       z M184.571,72.092l50.672,21.944l-6.359,14.682l-50.672-21.944L184.571,72.092z M182.987,129.997c0,9,6.997,15.597,15.597,15.597
       s15.597-6.597,15.597-15.597h16c0,17-14.174,31.597-31.597,31.597s-31.597-14.597-31.597-31.597H182.987z M110.757,72.092
       l6.359,14.682l-50.672,21.944l-6.359-14.682L110.757,72.092z M65.813,129.997h16c0,9,6.997,15.597,15.597,15.597
       s15.597-6.597,15.597-15.597h16c0,17-14.174,31.597-31.597,31.597S65.813,146.997,65.813,129.997z M97.664,198.997h100v16h-100
       V198.997z"
      />
      <Path
        fill="#FFB100"
        d="M267.089,91.098c2.544,10.553,3.907,21.566,3.907,32.9c0,77.318-62.68,139.998-139.998,139.998
       c-28.032,0-54.131-8.251-76.022-22.44c23.88,23.744,56.767,38.44,93.022,38.44c72.784,0,131.998-59.214,131.998-131.998
       C279.996,127.636,275.358,108.337,267.089,91.098z"
      />
      <Path
        fill="#FFE454"
        d="M160.76,31.457c28.006-1.021,54.381,6.269,76.771,19.645C213.985,29.328,182.521,16,147.998,16
       C75.214,16,16,75.214,16,147.998c0,22.049,5.442,42.849,15.042,61.138c-2.917-10.434-4.675-21.369-5.087-32.673
       C23.139,99.196,83.492,34.273,160.76,31.457z"
      />
      <Path
        d="M147.998,0C66.392,0,0,66.392,0,147.998s66.392,147.998,147.998,147.998s147.998-66.392,147.998-147.998
       S229.605,0,147.998,0z M147.998,279.996c-36.256,0-69.143-14.696-93.022-38.44c-9.536-9.482-17.631-20.41-23.934-32.42
       C21.442,190.847,16,170.047,16,147.998C16,75.214,75.214,16,147.998,16c34.523,0,65.987,13.328,89.533,35.102
       c12.208,11.288,22.289,24.844,29.558,39.996c8.27,17.239,12.907,36.538,12.907,56.9
       C279.996,220.782,220.782,279.996,147.998,279.996z"
      />
      <Path
        d="M198.584,161.594c17.423,0,31.597-14.597,31.597-31.597h-16c0,9-6.997,15.597-15.597,15.597s-15.597-6.597-15.597-15.597
       h-16C166.987,146.997,181.161,161.594,198.584,161.594z"
      />
      <Path
        d="M129.007,129.997h-16c0,9-6.997,15.597-15.597,15.597s-15.597-6.597-15.597-15.597h-16c0,17,14.174,31.597,31.597,31.597
       S129.007,146.997,129.007,129.997z"
      />
      <Rect x="97.664" y="198.997" width="100" height="16" />

      <Rect
        x="179.11"
        y="82.401"
        transform="matrix(-0.9176 -0.3974 0.3974 -0.9176 360.4855 255.5091)"
        width="55.218"
        height="15.999"
      />
      <Rect
        x="80.606"
        y="62.797"
        transform="matrix(-0.3975 -0.9176 0.9176 -0.3975 40.869 207.6488)"
        width="16"
        height="55.22"
      />
    </G>
  </Svg>
);

const MoodOkayIcon = ({
  size = 32,
  color,
}: {
  size: number;
  color: string;
}) => (
  <Svg width={size} height={size} viewBox="0 0 295.996 295.996">
    <G>
      <Path
        fill="#FFCE00"
        d="M270.996,123.998c0-11.334-1.363-22.348-3.907-32.9c-7.269-15.152-17.35-28.708-29.558-39.996
       c-22.391-13.376-48.766-20.666-76.772-19.645C83.492,34.274,23.139,99.196,25.955,176.463c0.413,11.304,2.17,22.239,5.087,32.673
       c6.303,12.01,14.397,22.938,23.934,32.42c21.892,14.189,47.99,22.44,76.023,22.44C208.316,263.996,270.996,201.316,270.996,123.998
       z M198.584,98.4c17.423,0,31.597,13.597,31.597,31.597h-16c0-9-6.997-15.597-15.597-15.597s-15.597,6.597-15.597,15.597h-16
       C166.987,111.997,181.161,98.4,198.584,98.4z M97.41,98.4c17.423,0,31.597,13.597,31.597,31.597h-16
       c0-9-6.997-15.597-15.597-15.597s-15.597,6.597-15.597,15.597h-16C65.813,111.997,79.987,98.4,97.41,98.4z M70.677,187.882
       l13.438-8.684c12.224,18.915,32.811,31.74,55.072,34.308c28.56,3.297,57.098-10.173,72.693-34.308l13.439,8.684
       c-16.984,26.283-46.649,42.113-77.604,42.113c-3.445,0-6.9-0.195-10.362-0.595C110.393,226.291,85.467,210.771,70.677,187.882z"
      />
      <Path
        fill="#FFB100"
        d="M267.089,91.098c2.544,10.553,3.907,21.566,3.907,32.9c0,77.318-62.68,139.998-139.998,139.998
       c-28.032,0-54.131-8.251-76.023-22.44c23.88,23.744,56.766,38.44,93.023,38.44c72.784,0,131.998-59.214,131.998-131.998
       C279.996,127.636,275.358,108.337,267.089,91.098z"
      />
      <Path
        fill="#FFE454"
        d="M160.76,31.457c28.006-1.021,54.381,6.268,76.772,19.645C213.985,29.328,182.521,16,147.998,16
       C75.214,16,16,75.214,16,147.998c0,22.049,5.442,42.849,15.042,61.138c-2.917-10.434-4.674-21.369-5.087-32.673
       C23.139,99.196,83.492,34.274,160.76,31.457z"
      />
      <Path
        d="M147.998,0C66.392,0,0,66.392,0,147.998s66.392,147.998,147.998,147.998s147.998-66.392,147.998-147.998
       S229.605,0,147.998,0z M147.998,279.996c-36.257,0-69.143-14.696-93.023-38.44c-9.536-9.482-17.631-20.41-23.934-32.42
       C21.442,190.847,16,170.047,16,147.998C16,75.214,75.214,16,147.998,16c34.523,0,65.987,13.328,89.533,35.102
       c12.208,11.288,22.289,24.844,29.558,39.996c8.27,17.239,12.907,36.538,12.907,56.9
       C279.996,220.782,220.782,279.996,147.998,279.996z"
      />
      <Path
        d="M97.41,114.4c8.6,0,15.597,6.597,15.597,15.597h16c0-18-14.174-31.597-31.597-31.597s-31.597,13.597-31.597,31.597h16
       C81.813,120.997,88.811,114.4,97.41,114.4z"
      />
      <Path
        d="M198.584,114.4c8.6,0,15.597,6.597,15.597,15.597h16c0-18-14.174-31.597-31.597-31.597s-31.597,13.597-31.597,31.597h16
       C182.987,120.997,189.984,114.4,198.584,114.4z"
      />
      <Path
        d="M147.715,229.995c30.954,0,60.619-15.83,77.604-42.113l-13.439-8.684c-15.596,24.135-44.134,37.605-72.693,34.308
       c-22.262-2.567-42.849-15.393-55.072-34.308l-13.438,8.684c14.79,22.889,39.716,38.409,66.676,41.518
       C140.814,229.8,144.27,229.995,147.715,229.995z"
      />
    </G>
  </Svg>
);

const MoodGoodIcon = ({
  size = 32,
  color,
}: {
  size: number;
  color: string;
}) => (
  <Svg width={size} height={size} viewBox="0 0 21 21">
    <G id="layer7" transform="translate(78.5 -41.5)">
      <G id="icon-happy">
        <Path
          id="path55988"
          d="m-58 52a10 10 0 0 1 -10 10 10 10 0 0 1 -10-10 10 10 0 0 1 10-10 10 10 0 0 1 10 10z"
          fill="#ffd764"
          strokeLinecap="round"
          strokeLinejoin="round"
        />
        <Path
          id="path55985"
          d="m-64.785156 42.533203a10.114855 10.114855 0 0 1 5.488281 8.972656 10.114855 10.114855 0 0 1 -10.115234 10.115235 10.114855 10.114855 0 0 1 -1.775391-.164063 10 10 0 0 0 3.1875.542969 10 10 0 0 0 10-10 10 10 0 0 0 -6.785156-9.466797z"
          fill="#ffb751"
        />
        <Path
          id="path55982"
          d="m-68.003829 57.794922a5.7951531 5.7951531 0 0 1 -5.759766-5.294922h11.533204a5.7951531 5.7951531 0 0 1 -5.773438 5.294922z"
          fill="#901c0f"
        />
        <Path
          id="path55979"
          d="m-68.005859 54.998047c-1.379092.0069-2.709771.495969-3.765625 1.380859a5.7951531 5.7951531 0 0 0 3.767578 1.416016 5.7951531 5.7951531 0 0 0 3.783203-1.416016c-1.060242-.889016-2.400053-1.377613-3.785156-1.380859z"
          fill="#ff5440"
        />
        <Path
          id="path55976"
          d="m-65.039062 55.804688c-.533626.437153-1.416286 1.032543-2.96875 1.035156-1.458082.0024-2.452762-.588979-2.998047-1.003906-.267657.159992-.524033.340495-.765625.542968a5.7951531 5.7951531 0 0 0 3.767578 1.416016 5.7951531 5.7951531 0 0 0 3.783203-1.416016c-.257341-.215781-.531428-.406831-.818359-.574218z"
          fill="#e0230d"
        />
        <Path
          id="path55559"
          d="m-68 41.5c-5.793062 0-10.5 4.706938-10.5 10.5s4.706938 10.5 10.5 10.5 10.5-4.706938 10.5-10.5-4.706938-10.5-10.5-10.5zm0 1c5.252622 0 9.5 4.247378 9.5 9.5s-4.247378 9.5-9.5 9.5-9.5-4.247378-9.5-9.5 4.247378-9.5 9.5-9.5zm-3.75 5c-.960575 0-1.75.789425-1.75 1.75 0 .276142.223858.5.5.5s.5-.223858.5-.5c0-.420136.329864-.75.75-.75s.75.329864.75.75c0 .276142.223858.5.5.5s.5-.223858.5-.5c0-.960575-.789425-1.75-1.75-1.75zm7.75 0c-.960575 0-1.75.789425-1.75 1.75 0 .276142.223858.5.5.5s.5-.223858.5-.5c0-.420136.329864-.75.75-.75s.75.329864.75.75c0 .276142.223858.5.5.5s.5-.223858.5-.5c0-.960575-.789425-1.75-1.75-1.75zm-9.767578 4.5c-.293042.000092-.523199.251008-.498047.542969.281038 3.243763 3.001906 5.744223 6.261646 5.748064 3.25974.0038 5.988116-2.498665 6.269651-5.748064.025153-.291979-.205033-.542904-.498094-.542969zm10.882812 1c-.215132 1.092483-.748591 2.061797-1.498046 2.802734-1.032489-.807673-2.30721-1.252776-3.622439-1.251018-1.315229.0018-2.583566.446289-3.61193 1.251018-.833832-.847319-1.29521-1.808327-1.498046-2.802734zm-5.123046 2.546875c1.016779.0023 2.001349.321873 2.824218.90625-.810126.532328-1.77649.841397-2.822265.841797-1.042646-.0025-2.005108-.310724-2.8125-.841797.818651-.581476 1.799351-.900399 2.810547-.90625z"
          fill="#401510"
          strokeLinecap="round"
          strokeLinejoin="round"
        />
      </G>
    </G>
  </Svg>
);

const MoodGreatIcon = ({
  size = 32,
  color,
}: {
  size: number;
  color: string;
}) => (
  <Svg height={size} viewBox="0 0 64 64" width={size}>
    <Circle cx="32" cy="32" fill="#ffcd00" r="32" />
    <G fillRule="evenodd">
      <Path
        d="m32 64a16 16 0 0 1 -16-16 16 16 0 0 1 16-16h32a32 32 0 0 1 -32 32z"
        fill="#ffb400"
      />
      <Path
        d="m32 0a16 16 0 0 1 16 16 16 16 0 0 1 -16 16h-32a32 32 0 0 1 32-32z"
        fill="#ffeb00"
      />
      <Path
        d="m12 32.002 40-.002a19.9515 19.9515 0 0 1 -6.77 14.9992h-26.4609q-.4679-.4126-.9118-.8565a19.9977 19.9977 0 0 1 -5.8573-14.1407z"
        fill="#46321e"
      />
      <Path
        d="m18.7691 46.9992a15.9809 15.9809 0 0 1 13.2289-6.9992h.004a15.9813 15.9813 0 0 1 13.2286 6.9986 19.9237 19.9237 0 0 1 -13.2306 5.0014h-.002a19.9979 19.9979 0 0 1 -13.2289-5.0008z"
        fill="#c8005a"
      />
    </G>
    <Path
      d="m55.217 22.142-3.217 9.902-8.423-6.119h-10.412l3.218-9.903-3.218-9.901h10.412l8.423-6.121 3.217 9.903 8.423 6.119z"
      fill="#ff961e"
    />
    <Path
      d="m8.783 22.142 3.217 9.902 8.423-6.119h10.413l-3.219-9.903 3.219-9.901h-10.413l-8.423-6.121-3.217 9.903-8.423 6.119z"
      fill="#ff961e"
    />
  </Svg>
);

// Main MoodIcon component that renders the appropriate icon
export function MoodIcon({ mood, size = 32, color, selected }: MoodIconProps) {
  const { colors, brandColors } = useTheme();

  // Use provided color or default based on selection state
  const iconColor =
    color || (selected ? brandColors.primary : colors.text.secondary);

  switch (mood) {
    case "terrible":
      return <MoodTerribleIcon size={size} color={iconColor} />;
    case "bad":
      return <MoodBadIcon size={size} color={iconColor} />;
    case "okay":
      return <MoodOkayIcon size={size} color={iconColor} />;
    case "good":
      return <MoodGoodIcon size={size} color={iconColor} />;
    case "great":
      return <MoodGreatIcon size={size} color={iconColor} />;
    default:
      return <MoodOkayIcon size={size} color={iconColor} />;
  }
}

// Mood data for iteration
export const MOODS: { value: MoodType; label: string }[] = [
  { value: "terrible", label: "Terrible" },
  { value: "bad", label: "Bad" },
  { value: "okay", label: "Okay" },
  { value: "good", label: "Good" },
  { value: "great", label: "Great" },
];

// Export individual icons for direct use if needed
export {
  MoodTerribleIcon,
  MoodBadIcon,
  MoodOkayIcon,
  MoodGoodIcon,
  MoodGreatIcon,
};
